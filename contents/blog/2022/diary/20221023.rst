========================================
Sphinx拡張とその土台周りを整理していた週
========================================

.. post:: 2022-10-23
   :category: Diary
   :tags: Python,Sphinx,oEmbed,
   :redirect: blog/2022/diary/20221023

2022/10/17～2022/10/23あたりの振り返りメモ。

Sphinx+翻訳 Hack-a-thon 2022.10
===============================

https://sphinxjp.connpass.com/event/261358/

もくもく。

主に後述する2個をやってた。

sphinx-revealjs v2.3.0
======================

Reveal.js のv4.4.0が出たので、アップデートポリシーに従いマイナーバージョンレベルの更新。

こういうケースでは「バンドルするReveal.jsの更新」「更新後のReveal.jsに合わせたディレクティブの更新」があるのだけれど、
今回は前者しか実施しなかった。

というのも、Reveal.jsのドキュメントは https://revealjs.com/ にあって、
自分も基本的にこれを参照しているのだが、
「実装していないけどドキュメントにはある属性」というのが存在していた模様。
そのため、sphinx-revealjs側では、しばらくの間「定義されているけどなんの意味もないオプション」が存在してしまっていた。

今回の更新には実装がドキュメントに追いついたので、Sphinx拡張としての実装は何もせずに済んだ。

oEmbed
======

PyCon JP 2022のLTスライドでYouTube動画を埋め込んだのだけれど、
``sphinxcontrib-oembed`` では横幅がかなり小さかったので、
結局埋め込み用HTMLを取り直す羽目になった。

どうやらYouTubeのoEmbed URL経由で取得できる埋め込みコンテンツに横幅制限があって、
現状どんなに頑張っても欲しい広さが得られないことだけが分かったのが現状。

ちょっと https://oembed.com/ の読み直しからしてる。
