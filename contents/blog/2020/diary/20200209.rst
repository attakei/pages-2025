=================
週報(2020-02-03-)
=================

.. post:: 2020-02-09
   :category: Diary
   :tags: Cloud Run,Arch Linux,ThinkCentere,

Cloud Run(gVisor)の不具合っぽいのを踏んだので、Issueを作ってみた
================================================================

Twitterで愚痴ってたら「再現手順整理してIssueくれ」と言われたので

* https://github.com/google/gvisor/issues/1739
* ラベルだけつけてもらったので、しばらくは注視
* Issueの中身は今度別記事にしようとは思ってる

Think Centereの中身をArchLinuxに変えてしばらくたった
====================================================

ハードウェア面
--------------

* 筐体は ``ThinkCentere Tiny m75q-1``
* メモリとSSDも基本スペックからのSSDだけ差し替え _[^1]
* M.2スロットはNVMeのみ認識する罠を踏んで、SATA->M.2のアダプタを買う羽目に
* DisplayPortでの表示ができずに、スペックの無駄使いが若干起きてる

ソフトウェア面
--------------

* Chrome Remote Desktop入れたので、外からでもこのPCのリソースを使えるようになった
* メインのブラウザはBrave使用中
* それ以外は、基本的に `公開済みの設定 <http://github.com/attakei/workstation>`_ を突っ込みつついろいろ
* モニターの位置に自由があるのは、やっぱりデスクトップの利点
* 素の状態で使ってた結果、メモリが足りなくなったので ``hyper`` から ``alacritty`` に変えてみた

Django + Firebase + Cloud Run
=============================

サーバーレスな環境のトライアルシリーズで、DjangoアプリケーションをDockerコンテナ化しつつなパターン。
``collectstatic`` を使いつつ、集約したファイルなどをFirebase Hostingにデプロイして、
残りを全部 ``Cloud Run`` に流してゆく。

メリット
--------

* 「Firebase Hostingが前面に立つ」ことそのものが良い。
* デプロイ時の速度感は魅力的。

デメリット
----------

* シングルコンテナのみ運用と比較すると、デプロイポイントが増えてる
* ローカルなどの開発で結局シングルコンテナと同等な気もする

[^1]: 元のSSDはWindowsを入れっぱなし
